##itemID: 000
##Contenido BEGIN
Tutorial paso a paso Chatbot de Telegram con Memoria. Registra conversaciones
[URL_WEB_YOUTUBE]
##Contenido END

##itemID: 000
##menu-item BEGIN
Tutorial paso a paso Chatbot de Telegram con Memoria. Registra conversaciones 
WEB ORIGINAL:
##menu-item END
##Contenido BEGIN
Tutorial paso a paso Chatbot de Telegram con Memoria. Registra conversaciones :
Web Original:
Tutorial paso a paso Chatbot de Telegram con Memoria. Registra conversaciones :
https://youtu.be/JDaSCUiHLuk?si=MUAtlxvu42DMURkt
##Contenido END

##itemID: 001
##menu-item BEGIN
Elegir la plataforma y las herramientas que vamos a usar
##menu-item END
##Contenido BEGIN
Elegir la plataforma y las herramientas que vamos a usar:
Vamos a usar dos cosas principales: una página llamada Make.com (antes se llamaba Integromat) que es como un juego de conectar bloques para que las cosas pasen automáticamente, y Telegram porque es súper fácil crear robots allí. También usaremos la inteligencia artificial de Google Gemini para que el bot sea listo y Google Sheets para que guarde lo que hablamos (así tiene memoria).
##Contenido END

##itemID: 002
##menu-item BEGIN
Crear el bot en Telegram con BotFather y obtener el token
##menu-item END
##Contenido BEGIN
Crear el bot en Telegram con BotFather y obtener el token:
Abre Telegram, busca @BotFather (es un bot oficial de Telegram). Escribe /newbot, ponle un nombre bonito (por ejemplo MiBotConMemoria) y luego un nombre de usuario que termine obligatoriamente en Bot (ejemplo: mibotconmemoria_bot). BotFather te dará una clave larga que se llama Token. Copia esa clave, la vas a necesitar enseguida.
##Contenido END

##itemID: 003
##menu-item BEGIN
Crear un escenario nuevo en Make y conectar Telegram
##menu-item END
##Contenido BEGIN
Crear un escenario nuevo en Make y conectar Telegram:
Entra a make.com, crea un Scenario nuevo. Pon el primer módulo: Telegram > Watch updates. Cuando te pida el Token, pega la clave que te dio BotFather. Make creará automáticamente el Webhook (es como una dirección secreta para que Telegram le avise cuando alguien hable con tu bot).
##Contenido END

##itemID: 004
##menu-item BEGIN
Probar que todo funciona enviando /start al bot
##menu-item END
##Contenido BEGIN
Probar que todo funciona enviando /start al bot:
Activa el escenario en Make (botón Run once o ponlo en ON). Abre Telegram, busca tu bot por el nombre que le pusiste y pulsa Start. En Make verás que llega el mensaje. ¡Ya está conectado!
##Contenido END

##itemID: 005
##menu-item BEGIN
Añadir la inteligencia artificial Google Gemini
##menu-item END
##Contenido BEGIN
Añadir la inteligencia artificial Google Gemini:
Añade un nuevo módulo después del de Telegram: Google AI > Gemini > Create a completion. Elige el modelo Gemini 1.5 Flash porque es muy rápido y gratis para pruebas.
##Contenido END

##itemID: 006
##menu-item BEGIN
Explicarle al bot quién es (mensaje de sistema)
##menu-item END
##Contenido BEGIN
Explicarle al bot quién es (mensaje de sistema):
En Gemini pon un mensaje con rol “System” y escribe algo como: Eres un asistente muy amable que ayuda con lo que sea. Responde siempre en español y sé simpático. Aquí puedes poner también precios, horarios o cualquier información fija que quieras que el bot sepa siempre.
##Contenido END

##itemID: 007
##menu-item BEGIN
Pasarle lo que escribió el usuario y enviar la respuesta
##menu-item END
##Contenido BEGIN
Pasarle lo que escribió el usuario y enviar la respuesta:
Añade otro mensaje en Gemini con rol “User” y pon ahí el texto que llegó de Telegram (Message → Text). Luego añade un módulo Telegram > Send a text message or a reply, pon el Chat ID (Message → Chat → ID) y en texto pon la respuesta que dio Gemini. Ya tienes un bot básico que contesta.
##Contenido END

##itemID: 008
##menu-item BEGIN
Crear una hoja de Google Sheets para guardar la memoria
##menu-item END
##Contenido BEGIN
Crear una hoja de Google Sheets para guardar la memoria:
Abre Google Sheets y crea una hoja nueva. Pon estas columnas en la primera fila: ID_usuario, Nombre, Apellido, Mensaje_usuario, Mensaje_bot, Fecha_Hora.
##Contenido END

##itemID: 009
##menu-item BEGIN
Guardar el mensaje del usuario antes de contestar
##menu-item END
##Contenido BEGIN
Guardar el mensaje del usuario antes de contestar:
Después del módulo Telegram, añade Google Sheets > Add a row. Conecta tu hoja y pon:
- ID_usuario: Message → From → ID
- Nombre: Message → From → First name
- Apellido: Message → From → Last name
- Mensaje_usuario: Message → Text
- Fecha_Hora: ahora (usa la función now)
Deja la columna Mensaje_bot vacía por ahora.
##Contenido END

##itemID: 010
##menu-item BEGIN
Buscar todo lo que ese usuario ha hablado antes
##menu-item END
##Contenido BEGIN
Buscar todo lo que ese usuario ha hablado antes:
Añade otro módulo Google Sheets > Search rows. En la condición pon que ID_usuario sea igual al ID del usuario actual. Así trae todas las filas de esa persona.
##Contenido END

##itemID: 011
##menu-item BEGIN
Juntar toda la conversación en un solo texto
##menu-item END
##Contenido BEGIN
Juntar toda la conversación en un solo texto:
Añade Tools > Text aggregator. Fuente: el Search rows anterior. Separador: salto de línea. Y en el texto pon algo como: Usuario: {{Mensaje_usuario}} Bot: {{Mensaje_bot}} (así queda todo ordenadito para que Gemini lo entienda).
##Contenido END

##itemID: 012
##menu-item BEGIN
Mandarle a Gemini toda la conversación pasada + el mensaje nuevo
##menu-item END
##Contenido BEGIN
Mandarle a Gemini toda la conversación pasada + el mensaje nuevo:
En el módulo Gemini borra el mensaje simple de “User” que tenías. Ahora pon el texto grande que salió del Text aggregator. Así Gemini recuerda todo lo que se ha hablado.
##Contenido END

##itemID: 013
##menu-item BEGIN
Guardar la respuesta del bot en la hoja
##menu-item END
##Contenido BEGIN
Guardar la respuesta del bot en la hoja:
Añade Google Sheets > Update a row. Selecciona la fila que creó el Add a row del principio (Make te da el Row number). Y en la columna Mensaje_bot pon la respuesta que dio Gemini.
##Contenido END

##itemID: 014
##menu-item BEGIN
Evitar que procese el mensaje /start
##menu-item END
##Contenido BEGIN
Evitar que procese el mensaje /start:
Entre el módulo Telegram y todo lo demás pon un Router con un Filter. Condición: Message → Text does not contain “/start” (así el primer /start no entra en la inteligencia artificial y no gasta créditos).
##Contenido END

##itemID: 015
##menu-item BEGIN
Orden final de los módulos
##menu-item END
##Contenido BEGIN
Orden final de los módulos:
Telegram Watch updates → Filter (descarta /start) → Google Sheets Add row → Google Sheets Search rows → Text aggregator → Gemini → Google Sheets Update row → Telegram Send message
¡Con esto ya tienes un bot que recuerda todo y puede hablar con muchas personas a la vez sin mezclar conversaciones!


VALIDACIÓN CON FUENTES TÉCNICAS OFICIALES
- Creación de bots en Telegram y uso de BotFather: https://core.telegram.org/bots
- Documentación oficial de la API de bots de Telegram: https://core.telegram.org/bots/api
- Webhooks en Make.com para Telegram: https://www.make.com/en/help/app/telegram-bot
- Módulo Google Gemini en Make: https://www.make.com/en/help/app/google-ai-studio-gemini
- Funciones de Google Sheets en Make: https://www.make.com/en/help/app/google-sheets
- Text Aggregator en Make: https://www.make.com/en/help/tools/text-aggregator

Todos los pasos siguen exactamente las capacidades actuales (noviembre 2025) de estas plataformas oficiales.
##Contenido END