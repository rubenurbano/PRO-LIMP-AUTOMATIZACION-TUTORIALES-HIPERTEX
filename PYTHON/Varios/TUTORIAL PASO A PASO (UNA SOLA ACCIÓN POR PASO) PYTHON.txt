TUTORIAL PASO A PASO (UNA SOLA ACCIÃ“N POR PASO)
CLI + AUTOMATIZACIÃ“N CON TYPER Y SCHEDULE PYTHON

OBJETIVO:
- Crear un comando en terminal: "miapp saludar --nombre RubÃ©n"
- AÃ±adir una tarea repetitiva que se ejecute cada X segundos/minutos con schedule.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PASO 1
Abre tu terminal (PowerShell, CMD o terminal de VS Code) en tu carpeta de trabajo.

PASO 2
Mueve el directorio actual a tu carpeta de proyectos (ejemplo):
cd C:\Users\rubenurbano\HIPERTEX

PASO 3
Crea un archivo nuevo llamado main.py:
notepad main.py

PASO 4
Pega el siguiente cÃ³digo COMPLETO dentro de main.py y guarda el archivo:

-----------------------------------
import time
from datetime import datetime

import typer
import schedule
from rich import print

app = typer.Typer(help="CLI de ejemplo con Typer + schedule")

# 1) COMANDO CLI NORMAL -------------------------------------------------
@app.command()
def saludar(nombre: str = "RubÃ©n"):
    """
    Saluda por consola con el nombre indicado.
    """
    print(f"[bold green]Hola, {nombre}![/bold green]  ðŸ˜Ž")


# 2) FUNCION QUE QUEREMOS REPETIR --------------------------------------
def tarea_programada():
    """
    AcciÃ³n que se ejecutarÃ¡ de forma repetitiva.
    """
    ahora = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    print(f"[cyan]{ahora}[/cyan] - Ejecutando tarea programada...")


# 3) COMANDO PARA INICIAR EL SCHEDULER ---------------------------------
@app.command()
def iniciar_scheduler(
    cada_segundos: int = typer.Option(10, help="Intervalo en segundos entre cada ejecuciÃ³n.")
):
    """
    Inicia un bucle que ejecuta 'tarea_programada' cada X segundos.
    """
    print(f"[yellow]Iniciando scheduler. EjecutarÃ© la tarea cada {cada_segundos} segundos.[/yellow]")
    schedule.every(cada_segundos).seconds.do(tarea_programada)

    # Bucle principal del scheduler
    try:
        while True:
            schedule.run_pending()
            time.sleep(1)
    except KeyboardInterrupt:
        print("[red]Scheduler detenido por el usuario.[/red]")


# 4) PUNTO DE ENTRADA PRINCIPAL ----------------------------------------
if __name__ == "__main__":
    app()
-----------------------------------

PASO 5
Cierra Notepad despuÃ©s de guardar main.py.

PASO 6
En la terminal, asegÃºrate de estar en la carpeta donde estÃ¡ main.py:
cd C:\Users\rubenurbano\HIPERTEX

PASO 7
Ejecuta un primer comando CLI para probar Typer:
python main.py --help

PASO 8
Observa en la terminal la ayuda generada automÃ¡ticamente por Typer (no hagas nada mÃ¡s).

PASO 9
Prueba el comando de saludo simple:
python main.py saludar

PASO 10
Prueba el comando de saludo con tu nombre:
python main.py saludar --nombre "RubÃ©n"

PASO 11
Verifica que aparece el saludo en verde con Rich (no hagas nada mÃ¡s).

PASO 12
Inicia ahora el scheduler para ejecutar una tarea cada 5 segundos:
python main.py iniciar-scheduler --cada-segundos 5

PASO 13
Observa durante unos segundos cÃ³mo se imprime en la consola la hora y el mensaje:
YYYY-MM-DD HH:MM:SS - Ejecutando tarea programada...

PASO 14
DetÃ©n el scheduler cuando quieras con la combinaciÃ³n de teclas:
Ctrl + C

PASO 15
Cierra la terminal si ya no quieres seguir usando la CLI.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RESUMEN DE COMANDOS IMPORTANTES

1) Ver ayuda general de la CLI:
python main.py --help

2) Ver ayuda de un comando concreto:
python main.py saludar --help
python main.py iniciar-scheduler --help

3) Ejecutar saludo:
python main.py saludar
python main.py saludar --nombre "RubÃ©n"

4) Iniciar tarea repetitiva cada X segundos:
python main.py iniciar-scheduler --cada-segundos 10

Con esto ya tienes:
- Un CLI propio basado en Typer.
- Una tarea repetitiva simple usando schedule.
- Salida coloreada gracias a rich.




